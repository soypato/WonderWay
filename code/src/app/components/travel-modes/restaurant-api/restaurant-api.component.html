<div class="freemode-container">
  <h2>Busca restaurantes para tu viaje</h2>

  <form [formGroup]="freemodeForm" (ngSubmit)="onSubmit()">
    <div class="search-section">
      <input type="text" placeholder="Ciudad" class="search-input" formControlName="ciudad" />
      <button type="submit" class="search-button">Buscar</button>
    </div>
  </form>

  <div class="results-section" *ngIf="restaurantes">
    <table>
      <thead>
        <tr>
          <th>Nombre</th>
          <th>Ubicación</th>
          <th>Calificación</th>
          <th>Tipo de establecimiento / Cocina</th>
          <th>Imagen</th>
          <th>Agregar</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let restaurant of restaurantes">
          <td>{{ restaurant.name }}</td>
          <td>{{ restaurant.parentGeoName || 'Desconocido' }}</td>
          <td>{{ restaurant.averageRating || 'N/A' }}</td>
          <td>
            <span *ngIf="restaurant.establishmentTypeAndCuisineTags?.length">
              {{ restaurant.establishmentTypeAndCuisineTags.join(', ') }}
            </span>
            <span *ngIf="!restaurant.establishmentTypeAndCuisineTags">
              No disponible
            </span>
          </td>
          <td>
            <img [src]="restaurant.squareImgUrl" alt="Imagen" style="width: 120px;" />
          </td>
          <td>
            <button (click)="agregarViaje(restaurant)">Agregar</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  
</div>
